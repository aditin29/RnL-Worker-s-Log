{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aditi/rocks-and-logs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/aditi/rocks-and-logs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/aditi/rocks-and-logs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Navbar from'../Components/Navbar';import'./MonthlyReport.css';import ReactToExcel from'react-html-table-to-excel';import axios from'axios';//import api from '../utils/api'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MonthlyReport(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),workers=_useState2[0],setWorkers=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),report=_useState4[0],setReport=_useState4[1];var _useState5=useState(\"Jan\"),_useState6=_slicedToArray(_useState5,2),month=_useState6[0],setMonth=_useState6[1];var Month=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];var date=new Date();var i=Month.indexOf(date.toString().substring(4,7));var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),next=_useState8[0],setNext=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),prev=_useState10[0],setPrev=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),popup=_useState12[0],setPopup=_useState12[1];var _useState13=useState(i),_useState14=_slicedToArray(_useState13,2),ind=_useState14[0],setInd=_useState14[1];var totAmt=0;var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),sites=_useState16[0],setSites=_useState16[1];var _useState17=useState('All'),_useState18=_slicedToArray(_useState17,2),sortSiteVal=_useState18[0],setSortSiteVal=_useState18[1];var m=\"\".concat(month).concat(sortSiteVal,\"Report\");useEffect(function(){if(ind===0){setPrev(true);}else{setPrev(false);}if(ind===11){setNext(true);}else{setNext(false);}function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var siteVal,x;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/sites\").then(function(res){return setSites(res.data);}).catch(function(err){return console.log(err);});case 2:if(!(sortSiteVal===\"All\")){_context.next=7;break;}_context.next=5;return axios.get(\"/users/siteSortAlpha\").then(function(res){setWorkers(res.data);}).catch(function(err){console.log(err);});case 5:_context.next=10;break;case 7:siteVal={site:sortSiteVal};_context.next=10;return axios.post(\"/users/siteSort\".concat(month),siteVal).then(function(res){setWorkers(res.data);}).catch(function(err){console.log(err);});case 10:x=Month[ind];setMonth(x);_context.next=14;return axios.get(\"/users/\".concat(month,\"Report\")).then(function(res){return setReport(res.data);}).catch(function(err){return console.log(err);});case 14:case\"end\":return _context.stop();}}},_callee);}));return _getData.apply(this,arguments);}getData();},[ind,month,sortSiteVal]);var handlePrev=function handlePrev(){var i=ind-1;setInd(i);};var handleNext=function handleNext(){var k=ind+1;setInd(k);};function handlePopupYes(){var mon=month;workers.map(function(worker){var Id=worker._id;return axios.post(\"/users/reset\".concat(mon,\"/\").concat(Id)).then(function(res){console.log(res.data);}).catch(function(err){console.log(err);});});window.location.reload();}function handlePopupNo(){setPopup(false);}function handleReset(){setPopup(true);}return/*#__PURE__*/_jsxs(\"div\",{className:\"workers\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"workers__banner\",style:{height:\"350px\"},children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"workers__title\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mr__report-title\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:prev,onClick:handlePrev,className:\"mr__title-arrow\",style:{fontSize:\"15px\",marginRight:\"20px\",marginTop:\"10px\",color:\"#9ae3e6\"},children:\" Prev \"}),/*#__PURE__*/_jsxs(\"h2\",{children:[month,\"'s Report\"]}),/*#__PURE__*/_jsx(\"button\",{disabled:next,onClick:handleNext,className:\"mr__title-arrow\",style:{fontSize:\"15px\",marginLeft:\"20px\",marginTop:\"10px\",color:\"#9ae3e6\"},children:\"Next\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"mr__reset-btn\",onClick:handleReset,children:\"RESET\"}),/*#__PURE__*/_jsx(ReactToExcel,{className:\"mr__export-btn\",table:\"monthlyReport\",filename:m,sheet:\"sheet 1\",buttonText:\"EXPORT\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{name:\"site\",value:sortSiteVal,onChange:function onChange(e){setSortSiteVal(e.target.value);totAmt=0;},className:\"workers__dropdown\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"All\"}),sites.map(function(site){return/*#__PURE__*/_jsx(\"option\",{children:site.siteName});})]})})]}),popup&&/*#__PURE__*/_jsxs(\"div\",{className:\"mr__reset-popup\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Are you sure?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mr__popup-btns\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePopupNo,children:\"No\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePopupYes,children:\"Yes\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"workers__container\",style:{overflowX:\"scroll\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"workers__content\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{id:\"monthlyReport\",className:\"workers__table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"mr__content-header\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"190px\"},children:\"Name\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"120px\"},children:\"Type\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"105px\"},children:\"Site\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"100px\"},children:\"Phone\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"120px\"},children:\"DOJ\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"100px\"},children:\"UAN No\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"100px\"},children:\"PF No\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"110px\"},children:\"ESIC\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Presesnt Days\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"110px\"},children:\"OT Hours\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"110px\"},children:\"Wages Rate\"}),/*#__PURE__*/_jsx(\"td\",{children:\"DA/SA Rate\"}),/*#__PURE__*/_jsx(\"td\",{children:\"OT Rate\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"120px\"},children:\"Basic Wages\"}),/*#__PURE__*/_jsx(\"td\",{children:\"DA Wages\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"110px\"},children:\"OT Amt\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"100px\"},children:\"HRA\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"105px\"},children:\"Total Wages\"}),/*#__PURE__*/_jsx(\"td\",{children:\"PF\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"100px\"},children:\"ESIC\"}),/*#__PURE__*/_jsx(\"td\",{children:\"PT\"}),/*#__PURE__*/_jsx(\"td\",{children:\"LWF\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"120px\"},children:\"Other Deduction\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"105px\"},children:\"Total Deduction\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"105px\"},children:\"Payment\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"100px\"},children:\"Bank\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"140px\"},children:\"Acc No\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"120px\"},children:\"IFSC\"}),/*#__PURE__*/_jsx(\"td\",{style:{marginRight:\"5px\"},children:\"Aadhar No\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:{overflowY:\"scroll\",height:\"440px\",marginRight:\"20px\"},children:/*#__PURE__*/_jsxs(\"tbody\",{children:[workers.map(function(worker){var _wReport,_wReport2,_wReport3,_wReport4,_wReport5,_wReport6,_wReport7,_wReport8,_wReport9,_wReport10,_wReport11,_wReport12,_wReport13,_wReport14,_wReport15,_wReport16,_wReport17;var wReport;for(var _i=0;_i<(report===null||report===void 0?void 0:report.length);_i++){if(report[_i][1]===worker._id){wReport=report[_i][0];}}totAmt=totAmt+((_wReport=wReport)===null||_wReport===void 0?void 0:_wReport.fPay);return/*#__PURE__*/_jsxs(\"tr\",{className:\"mr__content-worker\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"75px\",justifyContent:\"flex-start\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.name})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"36px\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.type})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"20px\"},children:/*#__PURE__*/_jsx(\"p\",{children:((_wReport2=wReport)===null||_wReport2===void 0?void 0:_wReport2.site)===\"NA\"?worker.site:(_wReport3=wReport)===null||_wReport3===void 0?void 0:_wReport3.site})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"15px\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.phoneNo})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.doj.substring(0,10)})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"30px\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.uanNo})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"20px\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.pfNo})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.esic})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"70px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport4=wReport)===null||_wReport4===void 0?void 0:_wReport4.presentDays})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"60px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport5=wReport)===null||_wReport5===void 0?void 0:_wReport5.otHrs})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"70px\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.wagesRate})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"60px\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.daRate})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.otRate})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"80px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport6=wReport)===null||_wReport6===void 0?void 0:_wReport6.basicWages})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"40px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport7=wReport)===null||_wReport7===void 0?void 0:_wReport7.daWages})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"30px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport8=wReport)===null||_wReport8===void 0?void 0:_wReport8.otAmt})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"40px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport9=wReport)===null||_wReport9===void 0?void 0:_wReport9.hra})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"40px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport10=wReport)===null||_wReport10===void 0?void 0:_wReport10.totalWages})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"0px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport11=wReport)===null||_wReport11===void 0?void 0:_wReport11.pf})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"0px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport12=wReport)===null||_wReport12===void 0?void 0:_wReport12.esic})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"0px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport13=wReport)===null||_wReport13===void 0?void 0:_wReport13.pt})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport14=wReport)===null||_wReport14===void 0?void 0:_wReport14.lwf})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"120px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport15=wReport)===null||_wReport15===void 0?void 0:_wReport15.adv})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"80px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport16=wReport)===null||_wReport16===void 0?void 0:_wReport16.totDeduction})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"35px\"},children:/*#__PURE__*/_jsx(\"p\",{children:(_wReport17=wReport)===null||_wReport17===void 0?void 0:_wReport17.fPay})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"25px\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.bank})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"70px\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.accountNo})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"55px\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.ifsc})}),/*#__PURE__*/_jsx(\"td\",{className:\"mr__content-data\",style:{marginRight:\"50px\"},children:/*#__PURE__*/_jsx(\"p\",{children:worker.aadharNo})})]});}),/*#__PURE__*/_jsxs(\"tr\",{style:{left:\"750px\",fontWeight:\"bold\",fontSize:\"20px\"},children:[\"Total Amount: \",totAmt]})]})})]})})})})]});}export default MonthlyReport;","map":{"version":3,"sources":["C:/Users/aditi/rocks-and-logs/client/src/Workers/MonthlyReport.js"],"names":["React","useEffect","useState","Navbar","ReactToExcel","axios","MonthlyReport","workers","setWorkers","report","setReport","month","setMonth","Month","date","Date","i","indexOf","toString","substring","next","setNext","prev","setPrev","popup","setPopup","ind","setInd","totAmt","sites","setSites","sortSiteVal","setSortSiteVal","m","getData","get","then","res","data","catch","err","console","log","siteVal","site","post","x","handlePrev","handleNext","k","handlePopupYes","mon","map","worker","Id","_id","window","location","reload","handlePopupNo","handleReset","height","fontSize","marginRight","marginTop","color","marginLeft","e","target","value","siteName","overflowX","overflowY","wReport","length","fPay","justifyContent","name","type","phoneNo","doj","uanNo","pfNo","esic","presentDays","otHrs","wagesRate","daRate","otRate","basicWages","daWages","otAmt","hra","totalWages","pf","pt","lwf","adv","totDeduction","bank","accountNo","ifsc","aadharNo","left","fontWeight"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport Navbar from '../Components/Navbar';\r\nimport './MonthlyReport.css';\r\nimport ReactToExcel from 'react-html-table-to-excel';\r\nimport axios from 'axios';\r\n//import api from '../utils/api'\r\n\r\n\r\nfunction MonthlyReport() {\r\n\r\n    const [workers, setWorkers] = useState([]);\r\n    const [report, setReport] = useState();\r\n    const [month, setMonth] = useState(\"Jan\");\r\n    let Month = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n    let date = new Date();\r\n\r\n\r\n    let i = Month.indexOf(date.toString().substring(4, 7));\r\n\r\n    \r\n\r\n\r\n    const [next, setNext] = useState(false);\r\n    const [prev, setPrev] = useState(false);\r\n    const [popup, setPopup] = useState(false);\r\n    const [ind, setInd] = useState(i);\r\n    \r\n    \r\n    let totAmt = 0;\r\n\r\n    \r\n\r\n    const [sites, setSites] = useState([]);\r\n    const [sortSiteVal, setSortSiteVal] = useState('All');\r\n    let m = `${month}${sortSiteVal}Report`;\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if (ind===0) {\r\n            setPrev(true);\r\n        } else {\r\n            setPrev(false);\r\n        }\r\n\r\n        if(ind===11) {\r\n            setNext(true);\r\n        }else{\r\n            setNext(false);\r\n        }\r\n\r\n    \r\n       \r\n        async function getData() {\r\n\r\n            await axios.get(\"/sites\")\r\n                    .then(res => setSites(res.data))\r\n                    .catch(err => console.log(err))\r\n\r\n            if(sortSiteVal === \"All\"){\r\n                await axios.get(\"/users/siteSortAlpha\")\r\n                    .then(res => {setWorkers(res.data)})\r\n                    .catch(err => {console.log(err)})\r\n            } else {\r\n                \r\n                const siteVal = {\r\n                    site: sortSiteVal\r\n                }\r\n                await axios.post(`/users/siteSort${month}`, siteVal)\r\n                    .then(res => {setWorkers(res.data)})\r\n                    .catch(err => {console.log(err)})\r\n            }\r\n\r\n            \r\n            \r\n            let x = Month[ind];\r\n            \r\n            setMonth(x);\r\n    \r\n            await axios.get(`/users/${month}Report`)\r\n                        .then(res => setReport(res.data) )\r\n                        .catch(err => console.log(err))\r\n        }\r\n        \r\n       getData();\r\n            \r\n    }, [ind, month, sortSiteVal])   \r\n\r\n    \r\n\r\n    const handlePrev = () => {\r\n        \r\n        let i = ind  - 1;\r\n        setInd(i);\r\n    }\r\n\r\n    const handleNext = () => {\r\n        \r\n\r\n        let k = ind  + 1;\r\n        setInd(k);\r\n    }\r\n\r\n\r\n    function handlePopupYes(){\r\n        let mon = month;\r\n        workers.map(worker => {\r\n            let Id = worker._id;\r\n            \r\n            return(axios.post(`/users/reset${mon}/${Id}`)\r\n            .then(res => {console.log(res.data)})\r\n            .catch(err => {console.log(err)}))\r\n        })\r\n        window.location.reload();\r\n    }\r\n\r\n\r\n    function handlePopupNo() {\r\n        setPopup(false);\r\n    }\r\n\r\n    function handleReset() {\r\n        setPopup(true);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"workers\">\r\n            <div className=\"workers__banner\" style={{height: \"350px\"}}>\r\n                <Navbar />\r\n            </div>\r\n\r\n            <div className=\"workers__title\">\r\n                <div className=\"mr__report-title\" >\r\n                    <button disabled={prev} onClick={handlePrev} className=\"mr__title-arrow\"  style={{fontSize: \"15px\", marginRight: \"20px\", marginTop: \"10px\", color : \"#9ae3e6\"}} > Prev </button>\r\n                    <h2>{month}'s Report</h2>\r\n                    <button disabled={next} onClick={handleNext} className=\"mr__title-arrow\"  style={{fontSize: \"15px\", marginLeft: \"20px\", marginTop: \"10px\", color : \"#9ae3e6\"}} >Next</button>\r\n                    \r\n                </div>\r\n\r\n                <button className=\"mr__reset-btn\" onClick={handleReset} >RESET</button>\r\n\r\n                <ReactToExcel className=\"mr__export-btn\" table=\"monthlyReport\" filename={m} sheet=\"sheet 1\" buttonText=\"EXPORT\" />\r\n                \r\n                <div >\r\n                        <select name=\"site\" value={sortSiteVal} onChange={(e) => {setSortSiteVal(e.target.value); totAmt=0}} className=\"workers__dropdown\">\r\n                            <option >All</option>\r\n                            {sites.map(site => (\r\n                                    <option >{site.siteName}</option>\r\n                                ))}\r\n                        </select>\r\n                </div>\r\n            </div>\r\n\r\n            {popup && <div className=\"mr__reset-popup\">\r\n                    <p>Are you sure?</p>\r\n                    <div className=\"mr__popup-btns\">\r\n                        <button onClick={handlePopupNo}>No</button>\r\n                        <button onClick={handlePopupYes}>Yes</button>\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n            \r\n\r\n            <div className=\"workers__container\" style={{overflowX: \"scroll\"}} >\r\n                <div className=\"workers__content\" >\r\n                                       \r\n\r\n                    <div >\r\n                        <table id=\"monthlyReport\" className=\"workers__table\">\r\n                            <thead className=\"mr__content-header\">\r\n                                <tr>\r\n                                    <td style={{marginRight: \"190px\"}}>Name</td>\r\n                                    <td style={{marginRight: \"120px\"}}>Type</td>\r\n                                    <td style={{marginRight: \"105px\"}}>Site</td>\r\n                                    <td style={{marginRight: \"100px\"}}>Phone</td>\r\n                                    <td style={{marginRight: \"120px\"}}>DOJ</td>\r\n                                    <td style={{marginRight: \"100px\"}}>UAN No</td>\r\n                                    <td style={{marginRight: \"100px\"}}>PF No</td>\r\n                                    <td style={{marginRight: \"110px\"}}>ESIC</td>\r\n                                    <td>Presesnt Days</td>\r\n                                    <td style={{marginRight: \"110px\"}}>OT Hours</td>\r\n                                    <td style={{marginRight: \"110px\"}}>Wages Rate</td>\r\n                                    <td>DA/SA Rate</td>\r\n                                    <td>OT Rate</td>\r\n                                    <td style={{marginRight: \"120px\"}}>Basic Wages</td>\r\n                                    <td>DA Wages</td>\r\n                                    <td style={{marginRight: \"110px\"}}>OT Amt</td>\r\n                                    <td style={{marginRight: \"100px\"}}>HRA</td>\r\n                                    <td style={{marginRight: \"105px\"}}>Total Wages</td>\r\n                                    <td>PF</td>\r\n                                    <td style={{marginRight: \"100px\"}}>ESIC</td>\r\n                                    <td>PT</td>\r\n                                    <td>LWF</td>\r\n                                    <td style={{marginRight: \"120px\"}}>Other Deduction</td>\r\n                                    <td style={{marginRight: \"105px\"}}>Total Deduction</td>\r\n                                    <td style={{marginRight: \"105px\"}}>Payment</td>\r\n                                    <td style={{marginRight: \"100px\"}}>Bank</td>\r\n                                    <td style={{marginRight: \"140px\"}}>Acc No</td>\r\n                                    <td style={{marginRight: \"120px\"}}>IFSC</td>\r\n                                    <td style={{marginRight: \"5px\"}}>Aadhar No</td>\r\n                                </tr>\r\n                            \r\n                            </thead>\r\n                            <div style={{overflowY: \"scroll\", height: \"440px\", marginRight: \"20px\"}}> \r\n                                <tbody>\r\n                                    {workers.map(worker => {\r\n\r\n                                        let wReport;\r\n                                        \r\n\r\n                                        for(let i=0; i<report?.length; i++){\r\n                                            if(report[i][1] === worker._id){\r\n                                                wReport = report[i][0];\r\n                                            }\r\n                                        }\r\n\r\n                                        totAmt = totAmt + wReport?.fPay;\r\n\r\n                                        \r\n                                        \r\n                                        return(\r\n                                            <tr className=\"mr__content-worker\">\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"75px\", justifyContent: \"flex-start\"}} ><p >{worker.name}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"36px\"}}><p >{worker.type}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"20px\"}}><p >{wReport?.site===\"NA\" ? worker.site : wReport?.site}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"15px\"}}><p >{worker.phoneNo}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"50px\"}}><p >{worker.doj.substring(0, 10)}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"30px\"}}><p >{worker.uanNo}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"20px\"}}><p >{worker.pfNo}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"50px\"}}><p >{worker.esic}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"70px\"}}><p >{wReport?.presentDays}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"60px\"}}><p >{wReport?.otHrs}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"70px\"}}><p >{worker.wagesRate}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"60px\"}}><p >{worker.daRate}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"50px\"}}><p >{worker.otRate}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"80px\"}}><p >{wReport?.basicWages}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"40px\"}}><p >{wReport?.daWages}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"30px\"}}><p >{wReport?.otAmt}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"40px\"}}><p >{wReport?.hra}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"40px\"}}><p >{wReport?.totalWages}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"0px\"}}><p >{wReport?.pf}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"0px\"}}><p >{wReport?.esic}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"0px\"}}><p >{wReport?.pt}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"50px\"}}><p >{wReport?.lwf}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"120px\"}}><p >{wReport?.adv}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"80px\"}}><p >{wReport?.totDeduction}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"35px\"}}><p >{wReport?.fPay}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"25px\"}}><p >{worker.bank}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"70px\"}}><p >{worker.accountNo}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"55px\"}}><p >{worker.ifsc}</p></td>\r\n                                                <td className=\"mr__content-data\" style={{marginRight: \"50px\"}}><p >{worker.aadharNo}</p></td>                                    \r\n                                                \r\n                                        </tr>)\r\n                                    })}\r\n\r\n                                    <tr style={{left: \"750px\", fontWeight: \"bold\", fontSize: \"20px\"}}>Total Amount: {totAmt}</tr>\r\n                                \r\n                                </tbody>\r\n                            </div>\r\n                            \r\n                        </table>\r\n\r\n                        \r\n                    </div>\r\n\r\n\r\n                   \r\n                   \r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MonthlyReport\r\n"]},"metadata":{},"sourceType":"module"}