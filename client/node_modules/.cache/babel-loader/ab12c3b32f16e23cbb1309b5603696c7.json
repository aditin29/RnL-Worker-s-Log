{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aditi\\\\rocks-and-logs\\\\src\\\\Sites\\\\Sites.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Navbar from '../Components/Navbar';\nimport Alert from '@material-ui/lab/Alert';\nimport axios from 'axios';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Sites() {\n  _s();\n\n  const [addSuccess, setAddSuccess] = useState(false);\n  const [error, setError] = useState('');\n  const [errAlert, setErrAlert] = useState(false);\n  const [siteName, setSiteName] = useState('');\n  const [deleteSite, setDeleteSite] = useState(false);\n  const [sites, setSites] = useState([]);\n  const [deleteSiteVal, setDeleteSiteVal] = useState('');\n  const [delSuccess, setDelSuccess] = useState(false);\n  const [delFail, setDelFail] = useState(false);\n  const [delErr, setDelErr] = useState(false);\n  const [changeInSites, setChangeInSites] = useState(false);\n  useEffect(() => {\n    async function getData() {\n      await axios.get(\"http://localhost:5000/sites\").then(res => setSites(res.data)).catch(err => console.log(err));\n    }\n\n    getData();\n  }, [changeInSites]);\n\n  function handleSiteVal(e) {\n    setSiteName(e.target.value);\n  }\n\n  async function handleAdd(e) {\n    e.preventDefault();\n    const site = {\n      siteName: siteName\n    };\n    await axios.post(\"http://localhost:5000/sites/addSite\", site).then(res => {\n      setErrAlert(false);\n      setAddSuccess(true);\n    }).catch(err => {\n      setError(err);\n      setErrAlert(true);\n    });\n  }\n\n  async function handleDelete(e) {\n    e.preventDefault();\n    const site = {\n      deleteSiteVal: deleteSiteVal\n    };\n    console.log(deleteSiteVal);\n    await axios.delete(\"http://localhost:5000/sites/deleteSite\", site).then(res => {\n      setDelFail(false);\n      setChangeInSites(!changeInSites);\n      setDelSuccess(true);\n    }).catch(err => {\n      setDelErr(err);\n      setDelFail(true);\n    });\n  }\n\n  const handleAnother = () => {\n    setSiteName('');\n    setAddSuccess(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cw\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cw__nav\",\n      children: /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cw__container\",\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        width: \"40vw\",\n        alignItems: \"center\",\n        height: \"80vh\",\n        marginTop: \"50px\"\n      },\n      children: !deleteSite ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"att__content\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"workers__editIcon\",\n          style: {\n            width: \"50px\",\n            marginLeft: \"350px\",\n            marginTop: \"-50px\",\n            display: \"flex\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(DeleteOutlineIcon, {\n            className: \"workers__createIcon\",\n            onClick: () => setDeleteSite(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 141\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Add a Site\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Site Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"cw__inp\",\n          value: siteName,\n          onChange: handleSiteVal,\n          style: {\n            marginBottom: \"40px\",\n            height: \"40px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAdd,\n          className: \"cw__btn\",\n          style: {\n            marginBottom: \"-5px\"\n          },\n          children: \"Add Site\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAnother,\n          className: \"cw__btn\",\n          style: {\n            marginBottom: \"10px\",\n            border: \"2px solid #d6993c\",\n            backgroundColor: \"transparent\",\n            color: \"#d6993c\"\n          },\n          children: \"Add another\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), addSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"success\",\n          children: \"Site Added\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 36\n        }, this), errAlert && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 32\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"att__content\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"workers__editIcon\",\n          style: {\n            width: \"50px\",\n            marginLeft: \"-110px\",\n            marginTop: \"-50px\",\n            display: \"flex\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(ArrowBackIcon, {\n            className: \"workers__createIcon\",\n            onClick: () => setDeleteSite(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 142\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Delete a Site\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Site Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"site\",\n            value: deleteSiteVal,\n            onChange: e => setDeleteSiteVal(e.target.value),\n            className: \"workers__dropdown\",\n            style: {\n              width: \"300px\",\n              backgroundColor: \"transparent\",\n              border: \"2px solid #1c243a\",\n              color: \"#1c243a\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"-select-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this), sites.map(site => /*#__PURE__*/_jsxDEV(\"option\", {\n              children: site.siteName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 37\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDelete,\n          className: \"cw__btn\",\n          style: {\n            marginBottom: \"10px\",\n            marginTop: \"50px\",\n            border: \"2px solid red\",\n            backgroundColor: \"transparent\",\n            color: \"red\"\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), delSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"success\",\n          children: \"Site Deleted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 36\n        }, this), delFail && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          children: delErr\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Sites, \"Hjkn+Bc/P9SqNHt2SZhvmbZ5iUk=\");\n\n_c = Sites;\nexport default Sites;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sites\");","map":{"version":3,"sources":["C:/Users/aditi/rocks-and-logs/src/Sites/Sites.js"],"names":["React","useState","useEffect","Navbar","Alert","axios","DeleteOutlineIcon","ArrowBackIcon","Sites","addSuccess","setAddSuccess","error","setError","errAlert","setErrAlert","siteName","setSiteName","deleteSite","setDeleteSite","sites","setSites","deleteSiteVal","setDeleteSiteVal","delSuccess","setDelSuccess","delFail","setDelFail","delErr","setDelErr","changeInSites","setChangeInSites","getData","get","then","res","data","catch","err","console","log","handleSiteVal","e","target","value","handleAdd","preventDefault","site","post","handleDelete","delete","handleAnother","display","justifyContent","width","alignItems","height","marginTop","marginLeft","marginBottom","border","backgroundColor","color","map"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Navbar from '../Components/Navbar';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport axios from 'axios';\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\n\r\nfunction Sites() {\r\n\r\n    const [addSuccess, setAddSuccess] = useState(false);    \r\n    const [error, setError] = useState('');\r\n    const [errAlert, setErrAlert] = useState(false);\r\n    \r\n    const [siteName, setSiteName] = useState('');\r\n\r\n\r\n    \r\n    const [deleteSite, setDeleteSite] = useState(false);\r\n    const [sites, setSites] = useState([]);\r\n    const [deleteSiteVal, setDeleteSiteVal] = useState('');\r\n    const [delSuccess, setDelSuccess] = useState(false);  \r\n    const [delFail, setDelFail] = useState(false);  \r\n    const [delErr, setDelErr] = useState(false);    \r\n    \r\n    \r\n    \r\n    const [changeInSites, setChangeInSites] = useState(false);    \r\n\r\n    useEffect(() => {\r\n\r\n        async function getData(){\r\n\r\n                       \r\n            await axios.get(\"http://localhost:5000/sites\")\r\n                .then(res => setSites(res.data))\r\n                .catch(err => console.log(err))\r\n        }\r\n        \r\n        getData();\r\n        \r\n            \r\n    }, [changeInSites])\r\n\r\n\r\n\r\n    function handleSiteVal(e) {\r\n        setSiteName(e.target.value);\r\n    }\r\n    \r\n\r\n    async function handleAdd(e) {\r\n        e.preventDefault();\r\n        \r\n        const site = {\r\n            siteName: siteName\r\n        }\r\n\r\n        await axios.post(\"http://localhost:5000/sites/addSite\", site)\r\n                .then(res => {setErrAlert(false); setAddSuccess(true);})\r\n                .catch(err => {setError(err); setErrAlert(true);})\r\n\r\n        \r\n    }\r\n\r\n\r\n    async function handleDelete(e) {\r\n        e.preventDefault();\r\n        \r\n        const site = {\r\n            deleteSiteVal: deleteSiteVal\r\n        }\r\n\r\n        console.log(deleteSiteVal)\r\n\r\n        await axios.delete(\"http://localhost:5000/sites/deleteSite\", site)\r\n                .then(res => {setDelFail(false); setChangeInSites(!changeInSites); setDelSuccess(true);})\r\n                .catch(err => {setDelErr(err); setDelFail(true);})\r\n\r\n        \r\n    }\r\n\r\n    const handleAnother = () => {    \r\n        setSiteName(''); \r\n        setAddSuccess(false);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"cw\">           \r\n            <div className=\"cw__nav\">\r\n                <Navbar />\r\n            </div>\r\n            \r\n            <div className=\"cw__container\" style={{display: \"flex\", justifyContent: \"center\", width: \"40vw\", alignItems: \"center\", height: \"80vh\", marginTop: \"50px\"}}>\r\n                {!deleteSite ? <div className=\"att__content\">\r\n                \r\n                    <button className=\"workers__editIcon\" style={{width: \"50px\", marginLeft: \"350px\", marginTop: \"-50px\", display: \"flex\"}}><DeleteOutlineIcon className=\"workers__createIcon\" onClick={() => setDeleteSite(true)} ></DeleteOutlineIcon> </button>\r\n                    <h2 >Add a Site</h2>\r\n\r\n                    <h3>Site Name</h3>\r\n                    <input type=\"text\" className=\"cw__inp\" value={siteName} onChange={handleSiteVal} style={{marginBottom: \"40px\", height: \"40px\"}} />\r\n                    \r\n                    <button onClick={handleAdd}  className=\"cw__btn\" style={{marginBottom: \"-5px\"}} >Add Site</button>\r\n                    <button onClick={handleAnother}  className=\"cw__btn\" style={{marginBottom: \"10px\", border: \"2px solid #d6993c\", backgroundColor: \"transparent\", color: \"#d6993c\"}} >Add another</button>\r\n                                       \r\n                    {addSuccess && <Alert severity=\"success\">Site Added</Alert>}\r\n                    {errAlert && <Alert severity=\"error\">{error}</Alert>}\r\n\r\n                    \r\n                </div> :\r\n\r\n\r\n\r\n                <div className=\"att__content\">\r\n                \r\n                    <button className=\"workers__editIcon\" style={{width: \"50px\", marginLeft: \"-110px\", marginTop: \"-50px\", display: \"flex\"}}><ArrowBackIcon className=\"workers__createIcon\" onClick={() => setDeleteSite(false)} ></ArrowBackIcon> </button>\r\n                    <h2 >Delete a Site</h2>\r\n\r\n                    <h3>Site Name</h3>\r\n                    <div >\r\n                        <select name=\"site\" value={deleteSiteVal} onChange={(e) => setDeleteSiteVal(e.target.value)} className=\"workers__dropdown\" style={{width: \"300px\", backgroundColor: \"transparent\", border: \"2px solid #1c243a\", color: \"#1c243a\"}}>\r\n                            <option >-select-</option>\r\n                                {sites.map(site => (\r\n                                    <option >{site.siteName}</option>\r\n                                ))}\r\n                        </select>\r\n                    </div>\r\n                    \r\n                    \r\n                    <button onClick={handleDelete}  className=\"cw__btn\" style={{marginBottom: \"10px\", marginTop: \"50px\", border: \"2px solid red\", backgroundColor: \"transparent\", color: \"red\"}} >Delete</button>\r\n                                       \r\n                    {delSuccess && <Alert severity=\"success\">Site Deleted</Alert>}\r\n                    {delFail && <Alert severity=\"error\">{delErr}</Alert>}\r\n\r\n                </div> }\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sites\r\n"]},"metadata":{},"sourceType":"module"}