{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aditi/rocks-and-logs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/aditi/rocks-and-logs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/aditi/rocks-and-logs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import CloseIcon from'@material-ui/icons/Close';import axios from'axios';import Alert from'@material-ui/lab/Alert';//import api from '../utils/api'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditDetails(_ref){var setTrig=_ref.setTrig,worker=_ref.worker,editDetails=_ref.editDetails;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),sites=_useState2[0],setSites=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),addSuccess=_useState4[0],setAddSuccess=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),errAlert=_useState8[0],setErrAlert=_useState8[1];useEffect(function(){function getSites(){return _getSites.apply(this,arguments);}function _getSites(){_getSites=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/sites\").then(function(res){return setSites(res.data);}).catch(function(err){return console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _getSites.apply(this,arguments);}getSites();},[]);var phoneRef=useRef();var addRef=useRef();var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),site=_useState10[0],setSite=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),type=_useState12[0],setType=_useState12[1];function handleSite(e){setSite(e.target.value);}function handleType(e){setType(e.target.value);}function handlePdetails(_x){return _handlePdetails.apply(this,arguments);}function _handlePdetails(){_handlePdetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var id,userPdata;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=worker._id;e.preventDefault();userPdata={phoneNo:phoneRef.current.value,address:addRef.current.value,site:site,type:type};_context2.next=5;return axios.post(\"/users/updatePdetails/\".concat(id),userPdata).then(setErrAlert(false),setAddSuccess(true)).catch(function(err){setError(err);setErrAlert(true);});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _handlePdetails.apply(this,arguments);}var uanRef=useRef();var pfRef=useRef();var esicRef=useRef();var wagesRef=useRef();var otRef=useRef();var daRef=useRef();var bankRef=useRef();var accountRef=useRef();var ifscRef=useRef();function handleBdetails(_x2){return _handleBdetails.apply(this,arguments);}function _handleBdetails(){_handleBdetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var id,userBdata;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:id=worker._id;e.preventDefault();userBdata={uanNo:uanRef.current.value,pfNo:pfRef.current.value,esic:esicRef.current.value,wagesRate:wagesRef.current.value,otRate:otRef.current.value,daRate:daRef.current.value,bank:bankRef.current.value,accountNo:accountRef.current.value,ifsc:ifscRef.current.value};_context3.next=5;return axios.post(\"/users/updateBdetails/\".concat(id),userBdata).then(setErrAlert(false),setAddSuccess(true)).catch(function(err){setError(err);setErrAlert(true);});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _handleBdetails.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"cw\",children:editDetails==='pdetails'?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CloseIcon,{className:\"profile__back\",onClick:function onClick(){return setTrig(false);},style:{fontSize:\"35px\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"cw__container\",style:{display:\"flex\",justifyContent:\"center\",width:\"38vw\",alignItems:\"center\",height:\"85vh\",marginTop:\"-50px\",marginLeft:\"50px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"att__content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:worker.name}),/*#__PURE__*/_jsx(\"h3\",{children:\"Phone No.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:phoneRef,className:\"cw__inp\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:addRef,className:\"cw__inp\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Site\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{style:{overflowY:\"scroll\"},value:site,onChange:handleSite,name:\"site\",className:\"cw__dropdown\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"-select-\"}),sites.map(function(site){return/*#__PURE__*/_jsx(\"option\",{children:site.siteName});})]})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Type of worker\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:type,onChange:handleType,name:\"type\",className:\"cw__dropdown\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"-select-\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Helper\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Semi-mason\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mason\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePdetails,className:\"cw__btn\",style:{marginBottom:\"10px\"},children:\"Save\"}),addSuccess&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",children:\"Details updated\"}),errAlert&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error})]})})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CloseIcon,{className:\"profile__back\",onClick:function onClick(){return setTrig(false);},style:{fontSize:\"35px\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"cw__container\",style:{display:\"flex\",justifyContent:\"center\",width:\"38vw\",alignItems:\"center\",height:\"85vh\",marginTop:\"-50px\",marginLeft:\"50px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"att__content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:worker.name}),/*#__PURE__*/_jsxs(\"div\",{style:{overflowY:\"scroll\",maxHeight:\"280px\",marginBottom:\"20px\",marginTop:\"-20px\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Wages Rate\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",ref:wagesRef,className:\"cw__inp\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"OT Rate\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",ref:otRef,className:\"cw__inp\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"DA/SA Rate\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",ref:daRef,className:\"cw__inp\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Bank Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:bankRef,className:\"cw__inp\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Account No.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:accountRef,className:\"cw__inp\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"IFSC Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:ifscRef,className:\"cw__inp\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBdetails,className:\"cw__btn\",style:{marginBottom:\"10px\"},children:\"Save\"}),addSuccess&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",children:\"Details updated\"}),errAlert&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error})]})})]})});}export default EditDetails;","map":{"version":3,"sources":["C:/Users/aditi/rocks-and-logs/client/src/Popups/EditDetails.js"],"names":["React","useState","useRef","useEffect","CloseIcon","axios","Alert","EditDetails","setTrig","worker","editDetails","sites","setSites","addSuccess","setAddSuccess","error","setError","errAlert","setErrAlert","getSites","get","then","res","data","catch","err","console","log","phoneRef","addRef","site","setSite","type","setType","handleSite","e","target","value","handleType","handlePdetails","id","_id","preventDefault","userPdata","phoneNo","current","address","post","uanRef","pfRef","esicRef","wagesRef","otRef","daRef","bankRef","accountRef","ifscRef","handleBdetails","userBdata","uanNo","pfNo","esic","wagesRate","otRate","daRate","bank","accountNo","ifsc","fontSize","display","justifyContent","width","alignItems","height","marginTop","marginLeft","name","overflowY","map","siteName","marginBottom","maxHeight"],"mappings":"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","sourcesContent":["import React, {useState, useRef, useEffect} from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport axios from 'axios';\r\nimport Alert from '@material-ui/lab/Alert';\r\n//import api from '../utils/api'\r\n\r\nfunction EditDetails({setTrig, worker, editDetails}) {\r\n\r\n    const [sites, setSites] = useState([]);\r\n    const [addSuccess, setAddSuccess] = useState(false); \r\n    const [error, setError] = useState('');\r\n    const [errAlert, setErrAlert] = useState(false);\r\n\r\n    useEffect(() => {\r\n        async function getSites(){\r\n            await axios.get(\"/sites\")\r\n                .then(res => setSites(res.data))\r\n                .catch(err => console.log(err))\r\n        }\r\n\r\n        getSites();\r\n\r\n    }, [])\r\n\r\n    \r\n    const phoneRef = useRef();\r\n    const addRef = useRef();    \r\n    const [site, setSite] = useState('');\r\n    const [type, setType] = useState('');\r\n\r\n    function handleSite(e) {\r\n        setSite(e.target.value);\r\n    }\r\n\r\n    function handleType(e) {\r\n        setType(e.target.value);\r\n    }\r\n\r\n    async function handlePdetails(e) {\r\n        let id = worker._id\r\n        \r\n        e.preventDefault();\r\n        const userPdata = {\r\n            phoneNo: phoneRef.current.value,\r\n            address: addRef.current.value,\r\n            site: site,\r\n            type: type     \r\n\r\n        }\r\n\r\n        await axios.post(`/users/updatePdetails/${id}`, userPdata)\r\n                .then(setErrAlert(false), setAddSuccess(true))\r\n                .catch(err => {setError(err); setErrAlert(true)})\r\n    }\r\n\r\n\r\n\r\n\r\n    \r\n    const uanRef = useRef();\r\n    const pfRef = useRef();\r\n    const esicRef = useRef();\r\n    const wagesRef = useRef();\r\n    const otRef = useRef();\r\n    const daRef = useRef();\r\n    const bankRef = useRef();\r\n    const accountRef = useRef();\r\n    const ifscRef = useRef();\r\n\r\n    async function handleBdetails(e) {\r\n        let id = worker._id\r\n        \r\n        e.preventDefault();\r\n        const userBdata = {\r\n            uanNo: uanRef.current.value,\r\n            pfNo: pfRef.current.value,\r\n            esic: esicRef.current.value,\r\n            wagesRate: wagesRef.current.value,\r\n            otRate: otRef.current.value,\r\n            daRate: daRef.current.value,\r\n            bank: bankRef.current.value,\r\n            accountNo: accountRef.current.value,\r\n            ifsc: ifscRef.current.value\r\n\r\n        }\r\n\r\n        await axios.post(`/users/updateBdetails/${id}`, userBdata)\r\n                    .then(setErrAlert(false), setAddSuccess(true))\r\n                    .catch(err => {setError(err); setErrAlert(true)})\r\n    }\r\n      \r\n        \r\n    \r\n    return (\r\n        \r\n        <div className=\"cw\">\r\n            {editDetails==='pdetails' ? \r\n                    <div>\r\n                        <CloseIcon className=\"profile__back\" onClick={() => setTrig(false)} style={{fontSize: \"35px\"}} />\r\n                        \r\n                        <div className=\"cw__container\" style={{display: \"flex\", justifyContent: \"center\", width: \"38vw\", alignItems: \"center\", height: \"85vh\", marginTop: \"-50px\", marginLeft: \"50px\"}}>\r\n                            <div className=\"att__content\">\r\n                                <h2 >{worker.name}</h2>\r\n\r\n                                <h3>Phone No.</h3>\r\n                                <input type=\"text\" ref={phoneRef} className=\"cw__inp\" />\r\n                                <h3>Address</h3>\r\n                                <input type=\"text\" ref={addRef} className=\"cw__inp\" />\r\n                                <h3>Site</h3>\r\n                                <div >\r\n                                        <select style={{overflowY: \"scroll\"}} value={site} onChange={handleSite} name=\"site\" className=\"cw__dropdown\">\r\n                                            <option >-select-</option>\r\n                                            {sites.map(site => (\r\n                                                <option >{site.siteName}</option>\r\n                                            ))}\r\n                                            \r\n                                        </select>\r\n                                </div>\r\n                                <h3>Type of worker</h3>\r\n                                <div >\r\n                                        <select value={type} onChange={handleType} name=\"type\" className=\"cw__dropdown\">\r\n                                            <option >-select-</option>\r\n                                            <option >Helper</option>\r\n                                            <option >Semi-mason</option>\r\n                                            <option >Mason</option>\r\n                                        </select>\r\n                                </div>\r\n                                \r\n                                <button onClick={handlePdetails} className=\"cw__btn\" style={{marginBottom: \"10px\"}} >Save</button>\r\n                                {addSuccess && <Alert severity=\"success\">Details updated</Alert>}                    \r\n                                {errAlert && <Alert severity=\"error\">{error}</Alert>}\r\n                                \r\n                            </div>\r\n\r\n                        </div>\r\n                    </div> : \r\n                    \r\n                    <div>\r\n                        <CloseIcon className=\"profile__back\" onClick={() => setTrig(false)} style={{fontSize: \"35px\"}} />\r\n                        \r\n                        <div className=\"cw__container\" style={{display: \"flex\", justifyContent: \"center\", width: \"38vw\", alignItems: \"center\", height: \"85vh\", marginTop: \"-50px\", marginLeft: \"50px\"}}>\r\n                            <div className=\"att__content\">\r\n                                <h2 >{worker.name}</h2>\r\n\r\n                                <div style={{overflowY: \"scroll\", maxHeight: \"280px\", marginBottom: \"20px\", marginTop: \"-20px\"}}>\r\n                                    <h3>Wages Rate</h3>\r\n                                    <input type=\"number\" ref={wagesRef} className=\"cw__inp\" />\r\n                                    <h3>OT Rate</h3>\r\n                                    <input type=\"number\" ref={otRef} className=\"cw__inp\" />\r\n                                    <h3>DA/SA Rate</h3>\r\n                                    <input type=\"number\" ref={daRef} className=\"cw__inp\" />\r\n                                    <h3>Bank Name</h3>\r\n                                    <input type=\"text\" ref={bankRef} className=\"cw__inp\" />\r\n                                    <h3>Account No.</h3>\r\n                                    <input type=\"text\" ref={accountRef} className=\"cw__inp\" />\r\n                                    <h3>IFSC Code</h3>\r\n                                    <input type=\"text\" ref={ifscRef} className=\"cw__inp\" />\r\n                                </div>\r\n\r\n                                \r\n\r\n                                \r\n                                <button onClick={handleBdetails} className=\"cw__btn\" style={{marginBottom: \"10px\"}} >Save</button>\r\n                                {addSuccess && <Alert severity=\"success\">Details updated</Alert>}                    \r\n                                {errAlert && <Alert severity=\"error\">{error}</Alert>}\r\n                                \r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n            }\r\n\r\n            \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditDetails"]},"metadata":{},"sourceType":"module"}