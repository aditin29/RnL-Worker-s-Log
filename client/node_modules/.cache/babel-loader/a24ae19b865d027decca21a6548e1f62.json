{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aditi/rocks-and-logs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/aditi/rocks-and-logs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/aditi/rocks-and-logs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from'react';import CloseIcon from'@material-ui/icons/Close';import axios from'axios';import Alert from'@material-ui/lab/Alert';//import api from '../utils/api'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Advance(_ref){var setTrig=_ref.setTrig,worker=_ref.worker;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),errAlert=_useState4[0],setErrAlert=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),alert=_useState6[0],setAlert=_useState6[1];var _useState7=useState('Jan'),_useState8=_slicedToArray(_useState7,2),advMonth=_useState8[0],setAdvMonth=_useState8[1];var amtRef=useRef();var handleAdvMonth=function handleAdvMonth(e){setAdvMonth(e.target.value);};function handleAdv(){return _handleAdv.apply(this,arguments);}function _handleAdv(){_handleAdv=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var AdvanceAmt,id;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:AdvanceAmt={adv:amtRef.current.value};id=worker._id;_context.next=4;return axios.post(\"/users/update\".concat(advMonth,\"Adv/\").concat(id),AdvanceAmt).then(setErrAlert(false),setAlert(true)).catch(function(err){setError(err);setErrAlert(true);});case 4:case\"end\":return _context.stop();}}},_callee);}));return _handleAdv.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"cw\",children:[/*#__PURE__*/_jsx(CloseIcon,{className:\"profile__back\",onClick:function onClick(){return setTrig(false);},style:{fontSize:\"35px\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"cw__container\",style:{display:\"flex\",justifyContent:\"center\",width:\"40vw\",alignItems:\"center\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"att__content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:worker.name}),/*#__PURE__*/_jsx(\"h3\",{children:\"Month\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:advMonth,onChange:handleAdvMonth,name:\"month\",className:\"cw__dropdown\",style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsx(\"option\",{children:\"Jan\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Feb\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mar\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Apr\"}),/*#__PURE__*/_jsx(\"option\",{children:\"May\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Jun\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Jul\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Aug\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Sep\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Oct\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Nov\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Dec\"})]})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Advance Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"cw__inp\",ref:amtRef,style:{marginBottom:\"40px\",height:\"40px\"}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAdv,className:\"cw__btn\",style:{marginBottom:\"10px\"},children:\"Add Advance\"}),alert&&/*#__PURE__*/_jsx(Alert,{severity:\"success\",children:\"Advance Amount Added\"}),errAlert&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error})]})})]});}export default Advance;","map":{"version":3,"sources":["C:/Users/aditi/rocks-and-logs/client/src/Popups/Advance.js"],"names":["React","useState","useRef","CloseIcon","axios","Alert","Advance","setTrig","worker","error","setError","errAlert","setErrAlert","alert","setAlert","advMonth","setAdvMonth","amtRef","handleAdvMonth","e","target","value","handleAdv","AdvanceAmt","adv","current","id","_id","post","then","catch","err","fontSize","display","justifyContent","width","alignItems","name","marginBottom","height"],"mappings":"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","sourcesContent":["import React, {useState, useRef} from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport axios from 'axios';\r\nimport Alert from '@material-ui/lab/Alert';\r\n//import api from '../utils/api'\r\n\r\nfunction Advance({setTrig, worker}) {\r\n\r\n    const [error, setError] = useState('');\r\n    const [errAlert, setErrAlert] = useState(false);\r\n    const [alert, setAlert] = useState(false);\r\n\r\n\r\n    const [advMonth, setAdvMonth] = useState('Jan');\r\n    const amtRef = useRef();\r\n\r\n\r\n\r\n    const handleAdvMonth = (e) => {\r\n        setAdvMonth(e.target.value);\r\n    }\r\n\r\n\r\n\r\n    async function handleAdv() {\r\n\r\n        const AdvanceAmt = {\r\n\t\r\n\t\t\tadv: amtRef.current.value\t\t\r\n        }\r\n\r\n        let id = worker._id;\r\n\r\n        await axios.post(`/users/update${advMonth}Adv/${id}`, AdvanceAmt)\r\n                .then(setErrAlert(false), setAlert(true))\r\n                .catch(err => {setError(err); setErrAlert(true);})\r\n    } \r\n\r\n\r\n    return (\r\n        <div className=\"cw\">\r\n            \r\n            <CloseIcon className=\"profile__back\" onClick={() => setTrig(false)} style={{fontSize: \"35px\"}} />\r\n            \r\n            <div className=\"cw__container\" style={{display: \"flex\", justifyContent: \"center\", width: \"40vw\", alignItems: \"center\"}}>\r\n                <div className=\"att__content\">\r\n                    <h2 >{worker.name}</h2>\r\n\r\n                    <h3>Month</h3>\r\n                    <div >\r\n                            <select value={advMonth} onChange={handleAdvMonth} name=\"month\" className=\"cw__dropdown\" style={{marginBottom: \"20px\"}}>\r\n                                <option >Jan</option>\r\n                                <option >Feb</option>\r\n                                <option >Mar</option>\r\n                                <option >Apr</option>\r\n                                <option >May</option>\r\n                                <option >Jun</option>\r\n                                <option >Jul</option>\r\n                                <option >Aug</option>\r\n                                <option >Sep</option>\r\n                                <option >Oct</option>\r\n                                <option >Nov</option>\r\n                                <option >Dec</option>\r\n                            </select>\r\n                    </div>\r\n\r\n                    <h3>Advance Amount</h3>\r\n                    <input type=\"number\" className=\"cw__inp\" ref={amtRef} style={{marginBottom: \"40px\", height: \"40px\"}} />\r\n                    \r\n                    <button onClick={handleAdv}  className=\"cw__btn\" style={{marginBottom: \"10px\"}} >Add Advance</button>\r\n                    {alert && <Alert severity=\"success\">Advance Amount Added</Alert>}\r\n                    {errAlert && <Alert severity=\"error\">{error}</Alert>}\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Advance\r\n"]},"metadata":{},"sourceType":"module"}